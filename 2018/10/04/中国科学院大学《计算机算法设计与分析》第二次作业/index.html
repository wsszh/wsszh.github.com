<!doctype html>



  


<html class="theme-next mist use-motion">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.4.0" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.0.2" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="UCAS,Algorithm," />








  <link rel="shortcut icon" type="image/x-icon" href="/images/favicon_piggy02.ico?v=5.0.2" />






<meta name="description" content="动态规划国科大(UCAS)卜东波老师算法课作业答案. 1. Largest Divisible SubsetGiven a set of distinct positive integers, find the largest subset such that every pair $(S_i; S_j)$ of elements in this subset satisfies: $S_i \%">
<meta name="keywords" content="UCAS,Algorithm">
<meta property="og:type" content="article">
<meta property="og:title" content="中国科学院大学《计算机算法设计与分析》第二次作业">
<meta property="og:url" content="http://hw2007.com/2018/10/04/中国科学院大学《计算机算法设计与分析》第二次作业/index.html">
<meta property="og:site_name" content="萝卜姓胡">
<meta property="og:description" content="动态规划国科大(UCAS)卜东波老师算法课作业答案. 1. Largest Divisible SubsetGiven a set of distinct positive integers, find the largest subset such that every pair $(S_i; S_j)$ of elements in this subset satisfies: $S_i \%">
<meta property="og:locale" content="zh-Hans">
<meta property="og:image" content="http://i.imgur.com/fYrbApI.png">
<meta property="og:updated_time" content="2018-10-09T07:37:58.288Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="中国科学院大学《计算机算法设计与分析》第二次作业">
<meta name="twitter:description" content="动态规划国科大(UCAS)卜东波老师算法课作业答案. 1. Largest Divisible SubsetGiven a set of distinct positive integers, find the largest subset such that every pair $(S_i; S_j)$ of elements in this subset satisfies: $S_i \%">
<meta name="twitter:image" content="http://i.imgur.com/fYrbApI.png">



<script type="text/javascript" id="hexo.configuration">
  var NexT = window.NexT || {};
  var CONFIG = {
    scheme: 'Mist',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    root: '/',
    algolia: {
        applicationID: 'UH9KXPVVBW',
        apiKey: '24b06abc0bbc2df99a5b86549e257b19',
        indexName: 'hexo_search',
        hits: {"per_page":10},
        labels: {"input_placeholder":"搜索...","hits_empty":"未发现与 「${query}」相关的内容","hits_stats":"${hits} 条相关条目，使用了 ${time} 毫秒"}
    }
  };
</script>




  <link rel="canonical" href="http://hw2007.com/2018/10/04/中国科学院大学《计算机算法设计与分析》第二次作业/"/>


  <title> 中国科学院大学《计算机算法设计与分析》第二次作业 | 萝卜姓胡 </title>
</head>

<body itemscope itemtype="//schema.org/WebPage" lang="zh-Hans">

  



  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "//hm.baidu.com/hm.js?a662bfc3e569bb59a332a1b44dd6dcd7";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>








  
  
    
  

  
    

  
  
  
  <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/instantsearch.js/1/instantsearch.min.css">
  
  
  <script src="https://cdn.jsdelivr.net/instantsearch.js/1/instantsearch.min.js"></script>
  
  

  

  <div class="container one-collumn sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="//schema.org/WPHeader">
      <div class="header-inner"><script src="//cdn.bootcss.com/jquery/2.2.2/jquery.min.js"></script>

<script type="text/javascript" src="/js/src/algolia.js?v=5.0.2"></script>
<div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">萝卜姓胡</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle"></p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="algolia-popup popup">
  <div class="algolia-search">
    <div class="algolia-search-input-icon">
      <i class="fa fa-search"></i>
    </div>
    <div class="algolia-search-input" id="algolia-search-input"></div>
  </div>
  <div class="algolia-results">
    <div id="algolia-stats"></div>
    <div id="algolia-hits"></div>
    <div id="algolia-pagination" class="algolia-pagination"></div>
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>


    </div>
  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="//schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                中国科学院大学《计算机算法设计与分析》第二次作业
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2018-10-04T20:33:03+08:00" content="2018-10-04">
              2018-10-04
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/算法/" itemprop="url" rel="index">
                    <span itemprop="name">算法</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                
                  <a href="/2018/10/04/中国科学院大学《计算机算法设计与分析》第二次作业/#SOHUCS" itemprop="discussionUrl">
                    <span id="changyan_count_unit" class="post-comments-count hc-comment-count" data-xid="2018/10/04/中国科学院大学《计算机算法设计与分析》第二次作业/" itemprop="commentsCount"></span>
                  </a>
                      
              </span>
            
          

          

          
          
             <span id="/2018/10/04/中国科学院大学《计算机算法设计与分析》第二次作业/" class="leancloud_visitors" data-flag-title="中国科学院大学《计算机算法设计与分析》第二次作业">
               &nbsp; | &nbsp;
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               <span class="post-meta-item-text">阅读次数 </span>
               <span class="leancloud-visitors-count"></span>
              </span>
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        <h2 id="动态规划"><a href="#动态规划" class="headerlink" title="动态规划"></a>动态规划</h2><p>国科大(UCAS)卜东波老师算法课作业答案.</p>
<h3 id="1-Largest-Divisible-Subset"><a href="#1-Largest-Divisible-Subset" class="headerlink" title="1. Largest Divisible Subset"></a>1. Largest Divisible Subset</h3><p>Given a set of distinct positive integers, find the largest subset such that every pair $(S_i; S_j)$ of elements in this subset satisfies: $S_i \% S_j = 0$ or $S_j \% S_i = 0$.</p>
<a id="more"></a>
<ul>
<li>the optimal substructure and DP equation</li>
</ul>
<p>设 $dp[i]$ 表示最大元素为 $S_i$ 且符合条件的集合中最大集合包含的元素个数</p>
<script type="math/tex; mode=display">dp[i] = \begin{cases} dp[j] + 1, \quad S_j < S_i ~ and ~ S_i \% S_j = 0 \\
dp[i], \quad otherwise \end{cases}</script><ul>
<li>pseudo-code</li>
</ul>
<figure class="highlight lua"><div class="figcode"><div class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></div><div class="code"><pre><div class="line">FindLargestSet(S[<span class="number">1.</span>..n], dp[<span class="number">1.</span>..n])</div><div class="line">	<span class="built_in">max</span> = <span class="number">1</span></div><div class="line">    <span class="built_in">sort</span>(S[<span class="number">1.</span>..n])</div><div class="line">    <span class="keyword">for</span> i = <span class="number">1</span> -&gt; n <span class="keyword">do</span></div><div class="line">    	<span class="keyword">for</span> j = i - <span class="number">1</span> -&gt; <span class="number">0</span> <span class="keyword">do</span></div><div class="line">        	<span class="keyword">if</span> S[i] <span class="built_in">mod</span> S[j] = <span class="number">0</span> <span class="keyword">and</span> dp[i] &lt; dp[j] + <span class="number">1</span> <span class="keyword">then</span></div><div class="line">            	dp[i] = dp[j] + <span class="number">1</span></div><div class="line">            <span class="keyword">end</span> <span class="keyword">if</span></div><div class="line">        <span class="keyword">end</span> <span class="keyword">for</span></div><div class="line">        <span class="keyword">if</span> <span class="built_in">max</span> &lt; dp[i] <span class="keyword">then</span></div><div class="line">        	<span class="built_in">max</span> = dp[i]</div><div class="line">        <span class="keyword">end</span> <span class="keyword">if</span></div><div class="line">    <span class="keyword">end</span> <span class="keyword">for</span></div><div class="line">    <span class="keyword">return</span> <span class="built_in">max</span>;</div></pre></div></div></figure>
<ul>
<li>prove the correctness</li>
</ul>
<p>设 数组 $S[1…n]$ 中的元素升序排列， $T_j$ 表示 数组 $S[1…j]$ 中满足条件的最大集合，其中最大元素为 $S_j$，则 $S_j$ 可以被 $T_j$ 中所有比它小的元素整数，若 $S_{j+1} ~ \% ~ S_j = 0$，则 $S_{j+1}$ 可以被 $T_j$ 中所有的元素整除，即将 $S_{j+1}$ 加入 $T_j$ 中得到的集合 $T_{j+1}$ 也是符合条件的集合， 得证.</p>
<ul>
<li>the complexity of the algorithm</li>
</ul>
<p>将 $S[1…n]$ 排序的时间复杂度为 $O(n\log n)$，计算最大集合的时间复杂度为 $O(n^2)$，得</p>
<script type="math/tex; mode=display">T(n) = O(n\log n) + O(n^2) = O(n^2)</script><h3 id="2-Money-robbing"><a href="#2-Money-robbing" class="headerlink" title="2. Money robbing"></a>2. Money robbing</h3><p>A robber is planning to rob houses along a street. Each house has a certain amount of money stashed, the only constraint stopping you from robbing each of them is that adjacent houses have security system connected and it will automatically contact the police if two adjacent houses were broken into on the same night.</p>
<ol>
<li><p>Given a list of non-negative integers representing the amount of money of each house, determine the maximum amount of money you can rob tonight without alerting the police.</p>
</li>
<li><p>What if all houses are arranged in a circle ?</p>
</li>
</ol>
<p><strong>当房子直线排列时</strong></p>
<ul>
<li>the optimal substructure and DP equation</li>
</ul>
<p>设 $S[1…n]$ 表示 $1…n$ 个房子存有的金额， $dp[i]$ 表示在前 $1…i$ 个房子中能抢到的最大金额</p>
<script type="math/tex; mode=display">dp[i] = \max (dp[j] + S[i],dp[i - 1]),\quad j \leq i - 2</script><ul>
<li>pseudo-code</li>
</ul>
<figure class="highlight lua"><div class="figcode"><div class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></div><div class="code"><pre><div class="line">RobMaxMoney(S[<span class="number">1.</span>..n], dp[<span class="number">1.</span>..n])</div><div class="line">	<span class="keyword">if</span> n = <span class="number">0</span> <span class="keyword">then</span></div><div class="line">    	<span class="keyword">return</span> <span class="number">0</span></div><div class="line">    <span class="keyword">end</span> <span class="keyword">if</span></div><div class="line">    <span class="keyword">if</span> n = <span class="number">1</span> <span class="keyword">then</span></div><div class="line">    	<span class="keyword">return</span> S[<span class="number">1</span>]</div><div class="line">    <span class="keyword">end</span> <span class="keyword">if</span></div><div class="line">	res = <span class="built_in">max</span>(S[<span class="number">1</span>], S[<span class="number">2</span>])</div><div class="line">    dp[<span class="number">1</span>] = S[<span class="number">1</span>], dp[<span class="number">2</span>] = <span class="built_in">max</span>(dp[<span class="number">1</span>], S[<span class="number">2</span>])</div><div class="line">    <span class="keyword">for</span> i = <span class="number">2</span> -&gt; n <span class="keyword">do</span></div><div class="line">    	<span class="keyword">for</span> j = <span class="number">0</span> -&gt; i - <span class="number">2</span> <span class="keyword">do</span></div><div class="line">        	dp[i] = <span class="built_in">max</span>(dp[i - <span class="number">1</span>], dp[j] + S[i])</div><div class="line">        <span class="keyword">end</span> <span class="keyword">for</span></div><div class="line">        <span class="keyword">if</span> res &lt; dp[i] <span class="keyword">then</span></div><div class="line">        	res = dp[i]</div><div class="line">        <span class="keyword">end</span> <span class="keyword">if</span></div><div class="line">    <span class="keyword">end</span> <span class="keyword">for</span></div><div class="line">    <span class="keyword">return</span> res;</div></pre></div></div></figure>
<ul>
<li>prove the correctness</li>
</ul>
<p>设当前要抢的为第 $i$ 个房子，如果第 $i - 1$ 个房子已经抢过了，那么第 $i$ 个房子就不能抢了，所以前 $i$ 个房子抢到的最大金额等于前 $i - 1$ 个房子抢到的最大金额，记为 $dp[i] = dp[i - 1]$；如果第 $i - 1$ 个房子没有抢，那么前 $i$ 个房子抢到的最大金额等于前 $j$ 个房子抢到的最大金额加上第 $i$ 个房子抢到的金额，记为 $dp[i] = dp[j] + S[i], ~ j \leq i - 2$，取 $dp[j] + S[i], ~ j \leq i - 2$ 和 $dp[i-1]$ 两者的较大值，即为 $dp[i]$ 的最大值.</p>
<ul>
<li>the complexity of the algorithm</li>
</ul>
<script type="math/tex; mode=display">T(n) = T(\sum_{i=2}^n{(i - 1)}) = O(n^2)</script><p><strong>当房子成环排列时</strong></p>
<ul>
<li>the optimal substructure and DP equation</li>
</ul>
<p>最优子结构的表达式与房子直线排列时的情况相同：</p>
<p>设 $S[1…n]$ 表示 $1…n$ 个房子存有的金额， $dp[i]$ 表示在前 $1…i$ 个房子中能抢到的最大金额</p>
<script type="math/tex; mode=display">dp[i] = \max (dp[j] + S[i],dp[i - 1]),\quad j \leq i - 2</script><ul>
<li>pseudo-code</li>
</ul>
<figure class="highlight coq"><div class="figcode"><div class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div></pre></div><div class="code"><pre><div class="line">RobMaxMoney(S[<span class="number">1.</span>..n], dp[<span class="number">1.</span>..n], <span class="built_in">left</span>, <span class="built_in">right</span>)</div><div class="line">	<span class="keyword">if</span> n = <span class="number">0</span> <span class="keyword">then</span></div><div class="line">    	<span class="keyword">return</span> <span class="number">0</span></div><div class="line">    <span class="keyword">end</span> <span class="keyword">if</span></div><div class="line">    <span class="keyword">if</span> n = <span class="number">1</span> <span class="keyword">then</span></div><div class="line">    	<span class="keyword">return</span> S[<span class="number">1</span>]</div><div class="line">    <span class="keyword">end</span> <span class="keyword">if</span></div><div class="line">	res = max(S[<span class="number">1</span>], S[<span class="number">2</span>])</div><div class="line">    dp[<span class="number">1</span>] = S[<span class="number">1</span>], dp[<span class="number">2</span>] = max(dp[<span class="number">1</span>], S[<span class="number">2</span>])</div><div class="line">    <span class="keyword">for</span> i = <span class="built_in">left</span> -&gt; <span class="built_in">right</span> <span class="built_in">do</span></div><div class="line">    	<span class="keyword">for</span> j = <span class="number">0</span> -&gt; i - <span class="number">2</span> <span class="built_in">do</span></div><div class="line">        	dp[i] = max(dp[i - <span class="number">1</span>], dp[j] + S[i])</div><div class="line">        <span class="keyword">end</span> <span class="keyword">for</span></div><div class="line">        <span class="keyword">if</span> res &lt; dp[i] <span class="keyword">then</span></div><div class="line">        	res = dp[i]</div><div class="line">        <span class="keyword">end</span> <span class="keyword">if</span></div><div class="line">    <span class="keyword">end</span> <span class="keyword">for</span></div><div class="line">    <span class="keyword">return</span> res;</div><div class="line"></div><div class="line">Main(S[<span class="number">1.</span>..n], dp[<span class="number">1.</span>..n])</div><div class="line">	<span class="keyword">return</span> max(RobMaxMoney(S, dp, <span class="number">0</span>, n - <span class="number">1</span>), RobMaxMoney(S, dp, <span class="number">1</span>, n));</div><div class="line">    </div><div class="line">RobMaxMoney(s[<span class="number">0.</span>..n<span class="number">-1</span>], <span class="built_in">cut</span>[<span class="number">0.</span>..n<span class="number">-1</span>], isPal[n][n])</div><div class="line">	<span class="keyword">for</span> i = <span class="number">0</span> -&gt; n<span class="number">-1</span> <span class="built_in">do</span></div><div class="line">    	<span class="built_in">cut</span>[i] = n - <span class="number">1</span> - i</div><div class="line">    <span class="keyword">for</span> i = n - <span class="number">1</span> -&gt; <span class="number">0</span> <span class="built_in">do</span></div><div class="line">    	<span class="keyword">for</span> j = i -&gt; n - <span class="number">1</span> <span class="built_in">do</span></div><div class="line">        	<span class="keyword">if</span> s[i] = s[j] and (j - i &lt; <span class="number">2</span> or isPal[i + <span class="number">1</span>][j - <span class="number">1</span>] = true) <span class="keyword">then</span></div><div class="line">            	isPal[i][j] = true</div><div class="line">                <span class="keyword">if</span> j = n - <span class="number">1</span> <span class="keyword">then</span></div><div class="line">                	<span class="built_in">cut</span>[i] = <span class="number">0</span></div><div class="line">                <span class="keyword">else</span></div><div class="line">                	<span class="built_in">cut</span>[i] = min(<span class="built_in">cut</span>[i], <span class="number">1</span> + <span class="built_in">cut</span>[j + <span class="number">1</span>])</div><div class="line">            	<span class="keyword">end</span> <span class="keyword">if</span></div><div class="line">            <span class="keyword">end</span> <span class="keyword">if</span></div><div class="line">        <span class="keyword">end</span> <span class="keyword">for</span></div><div class="line">    <span class="keyword">end</span> <span class="keyword">for</span></div><div class="line">    <span class="keyword">return</span> <span class="built_in">cut</span>[<span class="number">0</span>];</div></pre></div></div></figure>
<ul>
<li>prove the correctness</li>
</ul>
<p>只要将环打破，就可以用房子直线排列时的解法做，打破环的方法就是先假设第 $n$ 个房子不抢，那么能抢的房子范围是 $S[1…n - 1]$，再假设第 $1$ 个房子不抢(因为第 $n$ 个房子和第 $1$ 个房子相邻)，那么能抢的房子范围是 $S[2…n]$，这两种情况覆盖的房子范围就是能抢的房子全集 $S[1…n]$，所以取两者的较大值就为所有房子中能抢到的最大金额.</p>
<ul>
<li>the complexity of the algorithm</li>
</ul>
<script type="math/tex; mode=display">T(n) = 2T(\sum_{i=2}^n{(i - 1)}) = O(n^2)</script><h3 id="3-Partition"><a href="#3-Partition" class="headerlink" title="3. Partition"></a>3. Partition</h3><p>Given a string s, partition s such that every substring of the partition is a palindrome. Return the minimum cuts needed for a palindrome partitioning of s.</p>
<p>For example, given s = “aab”, return 1 since the palindrome partitioning [“aa”; “b”] could be produced using 1 cut.</p>
<ul>
<li>the optimal substructure and DP equation</li>
</ul>
<p>设 字符串 $s$ 长度为 $n$， $s[i]$ 表示字符串 $s$ 的第$i$个字符(下标从0开始)，$s[i…j]$ 表示下标从 $i$ 到 $j$ 的子串，$cut[i]$ 表示 $s[i…n-1]$ 最小的分割次数，$isPal[i][j]$ 表示 $s[i…j]$ 是否是回文字符串，是为 $true$，不是为 $false$.</p>
<script type="math/tex; mode=display">cut[i] = \begin{cases} \min (cut[i], 1 + cut[j]),\quad i < j < n - 1 ~ and ~ isPal[i][j] = true \\
0, \quad isPal[i][n - 1] = true \end{cases}</script><script type="math/tex; mode=display">isPal[i][j] = \begin{cases} true, \quad s[i] == s[j] ~ and ~ isPal[i + 1][j - 1] = true ~ and ~ 0 <= i < j < n \\
true, \quad 0 <= i = j < n \\
false, \quad otherwise \end{cases}</script><ul>
<li>pseudo-code</li>
</ul>
<figure class="highlight coq"><div class="figcode"><div class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></div><div class="code"><pre><div class="line">RobMaxMoney(s[<span class="number">0.</span>..n<span class="number">-1</span>], <span class="built_in">cut</span>[<span class="number">0.</span>..n<span class="number">-1</span>], isPal[n][n])</div><div class="line">	<span class="keyword">for</span> i = <span class="number">0</span> -&gt; n<span class="number">-1</span> <span class="built_in">do</span></div><div class="line">    	<span class="built_in">cut</span>[i] = n - <span class="number">1</span> - i</div><div class="line">    <span class="keyword">end</span> <span class="keyword">for</span></div><div class="line">    <span class="keyword">for</span> i = n - <span class="number">1</span> -&gt; <span class="number">0</span> <span class="built_in">do</span></div><div class="line">    	<span class="keyword">for</span> j = i -&gt; n - <span class="number">1</span> <span class="built_in">do</span></div><div class="line">        	<span class="keyword">if</span> s[i] = s[j] and (j - i &lt; <span class="number">2</span> or isPal[i + <span class="number">1</span>][j - <span class="number">1</span>] = true) <span class="keyword">then</span></div><div class="line">            	isPal[i][j] = true</div><div class="line">                <span class="keyword">if</span> j = n - <span class="number">1</span> <span class="keyword">then</span></div><div class="line">                	<span class="built_in">cut</span>[i] = <span class="number">0</span></div><div class="line">                <span class="keyword">else</span></div><div class="line">                	<span class="built_in">cut</span>[i] = min(<span class="built_in">cut</span>[i], <span class="number">1</span> + <span class="built_in">cut</span>[j + <span class="number">1</span>])</div><div class="line">            	<span class="keyword">end</span> <span class="keyword">if</span></div><div class="line">            <span class="keyword">end</span> <span class="keyword">if</span></div><div class="line">        <span class="keyword">end</span> <span class="keyword">for</span></div><div class="line">    <span class="keyword">end</span> <span class="keyword">for</span></div><div class="line">    <span class="keyword">return</span> <span class="built_in">cut</span>[<span class="number">0</span>]</div></pre></div></div></figure>
<ul>
<li>prove the correctness</li>
</ul>
<p>字符串 $s[i…j]$ 是一个回文字符串，因此在 $s[j]$ 和 $s[j + 1]$ 直接可以切一刀(即分割次数记为1)，再加上 $s[j + 1…n-1]$ 的分割次数 $cut[j + 1]$ 即为字符串 $s[i…n-1]$ 分割总次数，取符合 $i &lt;= j &lt; n$ 的所有情况中分割次数最小的作为 $cut[i]$ 的值，字符串 $s[0…n-1]$ 的最小分割次数即为 $cut[0]$.</p>
<ul>
<li>the complexity of the algorithm</li>
</ul>
<script type="math/tex; mode=display">T(n) = O(n) + O(n(\sum_{i = 0}^{n-1}{n - i})) = O(n^2)</script><h3 id="6-Maximum-profit-of-transactions"><a href="#6-Maximum-profit-of-transactions" class="headerlink" title="6. Maximum profit of transactions"></a><strong>6. Maximum profit of transactions</strong></h3><p>You have an array for which the i-th element is the price of a given stock on day i.</p>
<p>Design an algorithm and implement it to find the maximum profit. You may complete at most two transactions.</p>
<p>Note: You may not engage in multiple transactions at the same time (ie, you must sell the<br>stock before you buy again).</p>
<p>C++代码如下</p>
<figure class="highlight c"><div class="figcode"><div class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></div><div class="code"><pre><div class="line"><span class="comment">// profits[i][j] 表示第i次交易时，0到j天可以获得的最大收益</span></div><div class="line"><span class="comment">// profits[0][j] = 0，因为0次交易时必然没有收益</span></div><div class="line"><span class="comment">// profits[i][0] = 0，因为只有1天的股票价格时，不能进行一次完整的交易(买和卖)，收益为0</span></div><div class="line"><span class="comment">// profits[i][j] = max(profits[i][j - 1], prices[j] - profits[jj] + profits[i - 1][jj])</span></div><div class="line"><span class="comment">//               = max(profits[i][j - 1], prices[j] + max(profits[i - 1][jj] - profits[jj])), jj &lt; j and j &gt;= 1</span></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></div><div class="line"><span class="keyword">public</span>:</div><div class="line">    <span class="function"><span class="keyword">int</span> <span class="title">maxProfit</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; prices)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (prices.size() &lt; <span class="number">2</span>)</div><div class="line">            <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">        <span class="keyword">int</span> maxProf = <span class="number">0</span>;    <span class="comment">// 最大收益</span></div><div class="line">        <span class="keyword">int</span> K = <span class="number">2</span>;  <span class="comment">// K表示最多可交易的次数</span></div><div class="line"></div><div class="line">        <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; profits(K + <span class="number">1</span>, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;(prices.size(), <span class="number">0</span>));</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= K; i++) &#123;</div><div class="line">            <span class="keyword">int</span> tmpMax = profits[i - <span class="number">1</span>][<span class="number">0</span>] - prices[<span class="number">0</span>];</div><div class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt; prices.size(); j++) &#123;</div><div class="line">                profits[i][j] = max(profits[i][j - <span class="number">1</span>], prices[j] + tmpMax);</div><div class="line">                tmpMax = max(tmpMax, profits[i - <span class="number">1</span>][j] - prices[j]);</div><div class="line">                maxProf = max(profits[i][j], maxProf);</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> maxProf;</div><div class="line">    &#125;</div><div class="line">&#125;;</div></pre></div></div></figure>
<hr>
<p>版权声明</p>
<p><img src="http://i.imgur.com/fYrbApI.png" alt=""></p>
<p>作者：<a href="www.hw2007.com">萝卜姓胡</a><br>许可协议：<a href="https://creativecommons.org/licenses/by-sa/4.0/" target="_blank" rel="external">Creative Commons Attribution-ShareAlike 4.0 International License</a><br>本文永久链接：<a href="http://hw2007.com/2018/10/04/中国科学院大学《计算机算法设计与分析》第二次作业/">http://hw2007.com/2018/10/04/中国科学院大学《计算机算法设计与分析》第二次作业/</a></p>

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/UCAS/" rel="tag">#UCAS</a>
          
            <a href="/tags/Algorithm/" rel="tag">#Algorithm</a>
          
        </div>
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2018/10/04/中国科学院大学《计算机算法设计与分析》第一次作业/" rel="next" title="中国科学院大学《计算机算法设计与分析》第一次作业">
                <i class="fa fa-chevron-left"></i> 中国科学院大学《计算机算法设计与分析》第一次作业
              </a>
            
          </div>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2018/10/09/中国科学院大学《计算机算法设计与分析》第三次作业/" rel="prev" title="中国科学院大学《计算机算法设计与分析》第三次作业">
                中国科学院大学《计算机算法设计与分析》第三次作业 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
      <div id="SOHUCS"></div>
      
        <script type="text/javascript">
          (function(){
            var appid = 'cytaVkM4l';
            var conf = 'b4b0fd43ee0338e4247fe398974ad1aa';
            var width = window.innerWidth || document.documentElement.clientWidth;
            if (width < 960) {
              window.document.write('<script id="changyan_mobile_js" charset="utf-8" type="text/javascript" src="https://changyan.sohu.com/upload/mobile/wap-js/changyan_mobile.js?client_id=' + appid + '&conf=' + conf + '"><\/script>'); } else { var loadJs=function(d,a){var c=document.getElementsByTagName("head")[0]||document.head||document.documentElement;var b=document.createElement("script");b.setAttribute("type","text/javascript");b.setAttribute("charset","UTF-8");b.setAttribute("src",d);if(typeof a==="function"){if(window.attachEvent){b.onreadystatechange=function(){var e=b.readyState;if(e==="loaded"||e==="complete"){b.onreadystatechange=null;a()}}}else{b.onload=a}}c.appendChild(b)};loadJs("https://changyan.sohu.com/upload/changyan.js",function(){
               window.changyan.api.config({appid:appid,conf:conf})});
              }
          })();
        </script>
        <script type="text/javascript" src="https://assets.changyan.sohu.com/upload/plugins/plugins.count.js"></script>
      
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="//schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar_Teddy.jpg"
               alt="萝卜姓胡" />
          <p class="site-author-name" itemprop="name">萝卜姓胡</p>
          <p class="site-description motion-element" itemprop="description">If you really want it！</p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">23</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>

          
            <div class="site-state-item site-state-categories">
              <a href="/categories">
                <span class="site-state-item-count">12</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">28</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

      </section>

      
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">
            
              
            
            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#动态规划"><span class="nav-number">1.</span> <span class="nav-text">动态规划</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-Largest-Divisible-Subset"><span class="nav-number">1.1.</span> <span class="nav-text">1. Largest Divisible Subset</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-Money-robbing"><span class="nav-number">1.2.</span> <span class="nav-text">2. Money robbing</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-Partition"><span class="nav-number">1.3.</span> <span class="nav-text">3. Partition</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-Maximum-profit-of-transactions"><span class="nav-number">1.4.</span> <span class="nav-text">6. Maximum profit of transactions</span></a></li></ol></li></ol></div>
            
          </div>
        </section>
      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">

</script>
<div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">萝卜姓胡</span>
</div>

<div class="powered-by">  
  由 <a class="theme-link" href="https://hexo.io" rel="external nofollow">Hexo</a> 强力驱动

</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next" rel="external nofollow">
    NexT.Mist
  </a>
</div>

<div class="theme-info">
    <span id="busuanzi_container_site_pv">
        &nbsp; | &nbsp; Total visited <span id="busuanzi_value_site_pv"></span> times.
    </span>
</div>

        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.0.2"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.0.2"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.0.2"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.0.2"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.0.2"></script>



  



  




  
  

  
  <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
    });
  </script>

  <script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
      var all = MathJax.Hub.getAllJax(), i;
      for (i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';
      }
    });
  </script>
  <script type="text/javascript" src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>


  

  
  <script src="https://cdn1.lncld.net/static/js/av-core-mini-0.6.1.js"></script>
  <script>AV.initialize("72cFjAylbVbzsh9SAOVcrm93-gzGzoHsz", "MYdbmBGVETkoOFgUsRAUnYTF");</script>
  <script>
    function showTime(Counter) {
      var query = new AV.Query(Counter);
      var entries = [];
      var $visitors = $(".leancloud_visitors");

      $visitors.each(function () {
        entries.push( $(this).attr("id").trim() );
      });

      query.containedIn('url', entries);
      query.find()
        .done(function (results) {
          var COUNT_CONTAINER_REF = '.leancloud-visitors-count';

          if (results.length === 0) {
            $visitors.find(COUNT_CONTAINER_REF).text(0);
            return;
          }

          for (var i = 0; i < results.length; i++) {
            var item = results[i];
            var url = item.get('url');
            var time = item.get('time');
            var element = document.getElementById(url);

            $(element).find(COUNT_CONTAINER_REF).text(time);
          }
          for(var i = 0; i < entries.length; i++) {
            var url = entries[i];
            var element = document.getElementById(url);
            var countSpan = $(element).find(COUNT_CONTAINER_REF);
            if( countSpan.text() == '') {
              countSpan.text(0);
            }
          }
        })
        .fail(function (object, error) {
          console.log("Error: " + error.code + " " + error.message);
        });
    }

    function addCount(Counter) {
      var $visitors = $(".leancloud_visitors");
      var url = $visitors.attr('id').trim();
      var title = $visitors.attr('data-flag-title').trim();
      var query = new AV.Query(Counter);

      query.equalTo("url", url);
      query.find({
        success: function(results) {
          if (results.length > 0) {
            var counter = results[0];
            counter.fetchWhenSave(true);
            counter.increment("time");
            counter.save(null, {
              success: function(counter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(counter.get('time'));
              },
              error: function(counter, error) {
                console.log('Failed to save Visitor num, with error message: ' + error.message);
              }
            });
          } else {
            var newcounter = new Counter();
            /* Set ACL */
            var acl = new AV.ACL();
            acl.setPublicReadAccess(true);
            acl.setPublicWriteAccess(true);
            newcounter.setACL(acl);
            /* End Set ACL */
            newcounter.set("title", title);
            newcounter.set("url", url);
            newcounter.set("time", 1);
            newcounter.save(null, {
              success: function(newcounter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(newcounter.get('time'));
              },
              error: function(newcounter, error) {
                console.log('Failed to create');
              }
            });
          }
        },
        error: function(error) {
          console.log('Error:' + error.code + " " + error.message);
        }
      });
    }

    $(function() {
      var Counter = AV.Object.extend("Counter");
      if ($('.leancloud_visitors').length == 1) {
        addCount(Counter);
      } else if ($('.post-title-link').length > 1) {
        showTime(Counter);
      }
    });
  </script>



  
<script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>


</body>
</html>
